<!DOCTYPE html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet"><link href="/css/main.css?v=5.1.1" rel="stylesheet"><meta name="keywords" content="Git,Git flow,"><link rel="alternate" href="/atom.xml" title="Lyogvce" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.1"><meta name="description" content="这篇文章是针对 Git Flow &amp;amp; Git 命令 的 总结。 我花费了很大精力才完成的！"><meta name="keywords" content="Git,Git flow"><meta property="og:type" content="article"><meta property="og:title" content="Git Flow &amp; Git 命令"><meta property="og:url" content="http://blog.lyogvce.me/2017-06/Git_Flow_and_Git_Command.html"><meta property="og:site_name" content="Lyogvce"><meta property="og:description" content="这篇文章是针对 Git Flow &amp;amp; Git 命令 的 总结。 我花费了很大精力才完成的！"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/0.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/1.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/2.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/3.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/4.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/5.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/6.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/7.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/8.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/9.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/10.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/0.jpg"><meta property="og:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/11.png"><meta property="og:updated_time" content="2017-07-16T02:27:02.048Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Git Flow &amp; Git 命令"><meta name="twitter:description" content="这篇文章是针对 Git Flow &amp;amp; Git 命令 的 总结。 我花费了很大精力才完成的！"><meta name="twitter:image" content="http://blog.lyogvce.me/images/Git_Flow_and_Git_Command/0.jpg"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"post",offset:12,offset_float:0,b2t:!1,scrollpercent:!0,onmobile:!0},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://blog.lyogvce.me/2017-06/Git_Flow_and_Git_Command.html"><title>Git Flow & Git 命令 | Lyogvce</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?9769634a58e183d8dcae22cb614e6c88";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Lyogvce</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Lyogvce's 博客</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-about"><a href="/about.html" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>About Me</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://blog.lyogvce.me/2017-06/Git_Flow_and_Git_Command.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Lyogvce"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Lyogvce"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Git Flow & Git 命令</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-22T00:00:00+08:00">2017-06-22</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/版本管理/" itemprop="url" rel="index"><span itemprop="name">版本管理</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/版本管理/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a></span></span> <span id="/2017-06/Git_Flow_and_Git_Command.html" class="leancloud_visitors" data-flag-title="Git Flow & Git 命令"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数</span><span class="leancloud-visitors-count"></span></span><div class="post-wordcount"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计</span> <span title="字数统计">7,461</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长</span> <span title="阅读时长">30</span></div></div></header><div class="post-body" itemprop="articleBody"><p>这篇文章是针对 <strong>Git Flow &amp; Git 命令</strong> 的 <strong>总结</strong>。</p><p>我花费了很大精力才完成的！</p><a id="more"></a><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1. 基本概念"></a>1. 基本概念</h2><h3 id="1-1-Git-V-S-SVN"><a href="#1-1-Git-V-S-SVN" class="headerlink" title="1.1 Git V.S. SVN"></a>1.1 Git V.S. SVN</h3><p>SVN 是 <strong>集中化</strong> 的版本控制系统, 虽然能够令多个团队成员一起协作开发, 但有时如果中央服务器宕机的话, 谁也无法在宕机期间提交更新和协同开发。甚至有时, 中央服务器磁盘故障, 恰巧又没有做备份或备份没及时, 那就可能有丢失数据的风险。</p><p>Git 是 <strong>分布式</strong> 的版本控制系统, 客户端不只是提取最新版本的快照, 而且将整个代码仓库镜像复制下来。如果任何协同工作用的服务器发生故障了, 也可以用任何一个代码仓库来恢复。而且在协作服务器宕机期间, 你也可以提交代码到本地仓库, 当协作服务器正常工作后, 你再将本地仓库同步到远程仓库。</p><h3 id="1-2-功能-amp-特性"><a href="#1-2-功能-amp-特性" class="headerlink" title="1.2 功能 &amp; 特性"></a>1.2 功能 &amp; 特性</h3><ul><li><strong>版本控制</strong> &amp; <strong>多人协作开发</strong></li><li>强大的 <strong>分支特性</strong>, 所以能够灵活地以 <strong>不同的工作流</strong> 协同开发</li><li><strong>分布式版本控制系统</strong>, 即使协作服务器宕机, 也能继续提交代码或文件到本地仓库, 当协作服务器恢复正常工作时, 再将本地仓库同步到远程仓库。</li><li>直接记录快照, 而非差异比较</li></ul><p>有关以上特性的详细解释, 请查看 Pro git 的 <a href="https://git-scm.com/book/zh/v2/起步-Git-基础" target="_blank" rel="external">git 基础章节</a></p><h3 id="1-3-Git-基本技巧"><a href="#1-3-Git-基本技巧" class="headerlink" title="1.3 Git 基本技巧"></a>1.3 Git 基本技巧</h3><h4 id="1-Git-命令别名"><a href="#1-Git-命令别名" class="headerlink" title="(1) Git 命令别名"></a>(1) Git 命令别名</h4><p>关于具体如何使用命名别名技巧, 请查看 Pro git 的<a href="https://git-scm.com/book/zh/v2/Git-基础-Git-别名" target="_blank" rel="external">技巧和窍门</a></p><h2 id="2-Git-Flow"><a href="#2-Git-Flow" class="headerlink" title="2. Git Flow"></a>2. Git Flow</h2><p>由于 git 拥有强大的 <strong>分支特性</strong>, 它的工作流比较灵活而缺乏约束, 于是参考 <a href="https://www.atlassian.com/git/tutorials" target="_blank" rel="external">Atlassian Git Tutorial</a> 的 <a href="https://www.atlassian.com/git/tutorials/comparing-workflows" target="_blank" rel="external">Comparing Workflows</a> 章节, 在此提供 <strong>五种 Git 工作流</strong>:</p><p><a href="#2.1-Basic-Workflow-基本工作流">2.1 Basic Workflow (基本工作流)</a><br><a href="#2.2-Centralized-Workflow-集中式工作流">2.2 Centralized Workflow (集中式工作流)</a><br><a href="#2.3-Feature-Branch-Workflow-功能分支工作流">2.3 Feature Branch Workflow (功能分支工作流)</a><br><a href="#2.4-Gitflow-Workflow-Gitflow-工作流">2.4 Gitflow Workflow (Gitflow 工作流)</a><br><a href="#2.5-Forking-Workflow-Forking-工作流">2.5 Forking Workflow (Forking 工作流)</a></p><p>最后会介绍一个集大成者: 一套 <a href="#2.6-Forking-Workflow-Forking-工作流">开发流程(分支策略和发布管理) 模型</a>, 先看图眼馋一下。</p><p><img src="../images/Git_Flow_and_Git_Command/0.jpg" alt="" title="一个成功的 Git 分支模型"></p><h3 id="2-1-Basic-Workflow-基本工作流"><a href="#2-1-Basic-Workflow-基本工作流" class="headerlink" title="2.1 Basic Workflow (基本工作流)"></a>2.1 Basic Workflow (基本工作流)</h3><ol><li>在 git 版本控制的目录下修改某个文件</li><li>使用 <code>git add</code> 命令对修改后的文件快照, 保存到暂存区域</li><li>使用 <code>git commit</code> 命令提交更新, 将保存在暂存区域的文件快照永久转储到 Git 目录中</li></ol><h3 id="2-2-Centralized-Workflow-集中式工作流"><a href="#2-2-Centralized-Workflow-集中式工作流" class="headerlink" title="2.2 Centralized Workflow (集中式工作流)"></a>2.2 Centralized Workflow (集中式工作流)</h3><p>过渡到分布式版本控制系统看起来像一个艰巨的任务, 但如果你充分利用好 git 的话, 你不必改变你既有的工作流, 你的团队可以采用与之前使用 SVN 一样的方式来开发项目。</p><h4 id="1-如何工作"><a href="#1-如何工作" class="headerlink" title="(1) 如何工作"></a>(1) 如何工作</h4><p><img src="../images/Git_Flow_and_Git_Command/1.jpg" alt="" title="Centralized Workflow"></p><ol><li>从远程仓库 (central repository) 克隆工程到本地仓库 (local repository) — <code>git clone</code></li><li>在本地仓库编辑文件和提交更新 — <code>git add</code> 和 <code>git commit</code></li><li>fetch 远程仓库已更新的 commit 到本地仓库和 rebase 到已更新的 commit 的上面 —<code>git fetch</code> 和 <code>git rebase</code> 或 <code>git pull --rebase</code></li><li>push 本地主分支 (master branch) 到远程仓库 — <code>git push</code></li></ol><h4 id="2-管理冲突"><a href="#2-管理冲突" class="headerlink" title="(2) 管理冲突"></a>(2) 管理冲突</h4><p><img src="../images/Git_Flow_and_Git_Command/2.jpg" alt="" title="File Conflicts"></p><ul><li><strong>何时发生冲突:</strong> 在开发者发布它们功能之前, 他们需要 fetch 远程仓库已更新的 commit 到本地仓库和 rebase 到已更新的 commit 的上面。有时, 本地提交与远程提交会发生冲突, git 会暂停 rebase 过程来让你手动解决冲突。</li><li><strong>如何解决冲突:</strong> 你可以使用 <code>git status</code> 和 <code>git add</code> 来手动解决合并时冲突。</li></ul><h3 id="2-3-Feature-Branch-Workflow-功能分支工作流"><a href="#2-3-Feature-Branch-Workflow-功能分支工作流" class="headerlink" title="2.3 Feature Branch Workflow (功能分支工作流)"></a>2.3 Feature Branch Workflow (功能分支工作流)</h3><p>Feature Branch Workflow 的主要思想就是在 <strong>开发每个功能</strong> 时都应该创建 <strong>一个独立的分支</strong> 而不只是使用主分支。由于每个分支是独立且互不影响, 这就意味着主分支不会包含 broken code, 对持续集成环境是很有帮助的。</p><h4 id="1-如何工作-1"><a href="#1-如何工作-1" class="headerlink" title="(1) 如何工作"></a>(1) 如何工作</h4><p><img src="../images/Git_Flow_and_Git_Command/3.jpg" alt="" title="Feature Branch Workflow"></p><ol><li>仍然使用远程仓库 (central repository) 和主分支 (master branch) 记录官方工程的历史</li><li>开发者每次开发新功能时都创建一个新分支 — <code>git checkout -b</code></li><li>Feature branches 应该推送到远程仓库 (central repository) — <code>git push</code></li><li>发送 pull request 来请求管理员能否合并到主分支 (master branch)</li><li>发布新功能到远程仓库 (central repository)</li></ol><h4 id="2-Pull-Request"><a href="#2-Pull-Request" class="headerlink" title="(2) Pull Request"></a>(2) Pull Request</h4><p><strong>Pull request</strong> 是一种当开发者完成一个新功能后向其他团队成员发送通知的机制。它的使用过程如下:</p><p><img src="../images/Git_Flow_and_Git_Command/4.jpg" alt="" title="Pull request on Github"></p><ul><li>开发者可以通过 Github 或 Bitbucket 发送 pull request</li><li>其他的团队成员审查、讨论和修改代码</li><li>项目维护者合并新增功能分支到主分支 (master branch), 然后关闭 pull request</li></ul><h3 id="2-4-Gitflow-Workflow-Gitflow-工作流"><a href="#2-4-Gitflow-Workflow-Gitflow-工作流" class="headerlink" title="2.4 Gitflow Workflow (Gitflow 工作流)"></a>2.4 Gitflow Workflow (Gitflow 工作流)</h3><p>Feature Branch Workflow 是一种非常灵活的开发方式。对于一些规模比较大的团队, 最好就是给特定的分支赋予不同的角色。除了 <strong>功能分支 (feature branch)</strong>, Gitflow Workflow 还使用独立的分支来 <strong>准备发布 (preparing)</strong>、<strong>维护 (maintaining)</strong> 和 <strong>记录版本 (recording releases)</strong>。下面我会逐个介绍这个几个分支: Historical Branches、Feature Branches、Release Branches 和 Maintenance Branches。</p><h4 id="1-Historical-Branches"><a href="#1-Historical-Branches" class="headerlink" title="(1) Historical Branches"></a>(1) Historical Branches</h4><p><img src="../images/Git_Flow_and_Git_Command/5.jpg" alt="" title="Historical Branches"></p><ul><li><strong>master 分支</strong> 保存官方发布历史</li><li><strong>develop 分支</strong> 衍生出各个 feature 分支</li></ul><h4 id="2-Feature-Branches"><a href="#2-Feature-Branches" class="headerlink" title="(2) Feature Branches"></a>(2) Feature Branches</h4><p><img src="../images/Git_Flow_and_Git_Command/6.jpg" alt="" title="Feature Branches"></p><ul><li><strong>feature 分支</strong> 使用 develop 分支作为它们的父类分支</li><li>当其中一个 feature 分支完成后, 它会合并会 develop 分支</li><li>feature 分支应该从不与 master 分支直接交互</li></ul><h4 id="3-Release-Branches"><a href="#3-Release-Branches" class="headerlink" title="(3) Release Branches"></a>(3) Release Branches</h4><p><img src="../images/Git_Flow_and_Git_Command/7.jpg" alt="" title="Release Branches"></p><ul><li><strong>release 分支</strong> 主要用来清理释放、测试和更新文档</li><li>一旦 develop 分支获得足够的功能来发布时, 你可以从 develop 衍生出一个 release 分支</li><li>一旦准备好上架, release 合并到 master 分支并且标记一个版本号</li><li>另外, 还需要合并回 develop 分支</li></ul><h4 id="4-Maintenance-Branches"><a href="#4-Maintenance-Branches" class="headerlink" title="(4) Maintenance Branches"></a>(4) Maintenance Branches</h4><p><img src="../images/Git_Flow_and_Git_Command/8.jpg" alt="" title="Maintenance Branches"></p><ul><li><strong>maintenance 分支</strong> 用来快速给已发布产品修复 bug 或微调功能</li><li>它从 master 分支直接衍生出来</li><li>一旦完成修复 bug, 它应该合并回 master 分支和 develop 分支</li><li>master 应该被标记一个新的版本号</li></ul><h4 id="5-标记-Tags"><a href="#5-标记-Tags" class="headerlink" title="(5) 标记 Tags"></a>(5) 标记 Tags</h4><p>使用两个命令来给 master 分支标记版本号:</p><ul><li><code>git tag -a 0.1 -m &quot;Initial public release&quot; master</code></li><li><code>git push origin master --tags</code></li></ul><h3 id="2-5-Forking-Workflow-Forking-工作流"><a href="#2-5-Forking-Workflow-Forking-工作流" class="headerlink" title="2.5 Forking Workflow (Forking 工作流)"></a>2.5 Forking Workflow (Forking 工作流)</h3><p>Forking Workflow 与以上讨论的工作流很不同, 一个很重要的 <strong>区别</strong> 就是它不只是多个开发共享一个远程仓库 (central repository), 而是每个开发者都拥有一个独立的服务端仓库。也就是说每个 contributor 都有两个仓库: 自己的私有的远程仓库和官方的共享的远程仓库。</p><p><img src="../images/Git_Flow_and_Git_Command/9.jpg" alt="" title="Forking Workflow"></p><p>Forking Workflow 这种工作流主要好处就是每个开发者都拥有自己的远程仓库, 可以将提交的 commits 推送到自己的远程仓库, 但只有工程维护者才有权限 push 提交的 commits 到官方的仓库, 其他开发者在没有授权的情况下不能 push。Github 很多 <strong>开源项目</strong> 都是采用 Forking Workflow 工作流。</p><h4 id="1-如何工作-2"><a href="#1-如何工作-2" class="headerlink" title="(1) 如何工作"></a>(1) 如何工作</h4><p><img src="../images/Git_Flow_and_Git_Command/10.jpg" alt="" title="Fork official repository"></p><ol><li>在服务器上有一个官方公共的仓库</li><li>开发者 fork 官方仓库来创建它的拷贝, 然后存放在服务器上</li><li>当开发者准备好发布本地的 commit 时, 他们 push commit 到他们自己的公共仓库</li><li>在自己的公共仓库发送一个 pull request 到官方仓库</li><li>维护者 pull 贡献者的 commit 到他自己的本地仓库</li><li>审查代码确保它不会破坏工程, 合并它到本地仓库的 master 分支</li><li>push master 分支到服务器上的官方仓库</li><li>其他开发者应该同步官方仓库。</li></ol><h3 id="2-6-终极开发流程-分支策略和发布管理-模型"><a href="#2-6-终极开发流程-分支策略和发布管理-模型" class="headerlink" title="2.6 终极开发流程 (分支策略和发布管理) 模型"></a>2.6 终极开发流程 (分支策略和发布管理) 模型</h3><p>先上图。</p><p><img src="../images/Git_Flow_and_Git_Command/0.jpg" alt="" title="一个成功的 Git 分支模型"></p><p>本节全部来自这篇文章: <a href="http://blog.jobbole.com/81196" target="_blank" rel="external">一个成功的 Git 分支模型</a>, 原文与译文都不错, 我就不转载了, 直接去看吧。</p><h2 id="3-Git-命令清单"><a href="#3-Git-命令清单" class="headerlink" title="3. Git 命令清单"></a>3. Git 命令清单</h2><p>一般来说, 日常使用只要记住下图 6 个命令, 就可以了。但是熟练使用, 恐怕要记住 60～100 个命令。</p><p><img src="../images/Git_Flow_and_Git_Command/11.png" alt=""></p><p>下面是一份常用 Git 命令清单。几个专用名词的译名如下。</p><ul><li>Workspace: 工作区</li><li>Index / Stage: 暂存区</li><li>Repository: 本地仓库</li><li>Remote: 远程仓库</li></ul><p>你的本地仓库由 git 维护的三棵 “树” 组成。第一个是你的 <code>工作目录</code>, 它持有实际文件; 第二个是 <code>暂存区(Index/Stage)</code>, 它像个缓存区域, 临时保存你的改动; 最后是 <code>HEAD</code>, 它指向你最后一次提交的结果。</p><p>文件状态</p><ul><li>未跟踪 Untracked</li><li>已跟踪 Tracked<ul><li>已修改 modified</li><li>已放入暂存区 staged</li><li>未修改 committed</li></ul></li></ul><h3 id="3-1-配置与帮助-config-help"><a href="#3-1-配置与帮助-config-help" class="headerlink" title="3.1 配置与帮助 config help"></a>3.1 配置与帮助 config help</h3><p>Git 的设置文件为 <code>.gitconfig</code>, 它可以在用户主目录下(全局配置), 也可以在项目目录下(项目配置)。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 显示当前的 Git 配置</span></div><div class="line">$ git config --list</div><div class="line"></div><div class="line"><span class="comment"># 编辑 Git 配置文件</span></div><div class="line">$ git config -e [--global]</div><div class="line"></div><div class="line"><span class="comment"># 设置提交代码时的用户信息</span></div><div class="line">$ git config [--global] user.name <span class="string">"[name]"</span></div><div class="line">$ git config [--global] user.email <span class="string">"[email address]"</span></div><div class="line"></div><div class="line"><span class="comment"># 其它的一些重要配置</span></div><div class="line">$ git config [--global] core.quotepath <span class="literal">false</span> <span class="comment"># 使 git 命令输出中的中文正确显示</span></div><div class="line">$ git config [--global] core.editor</div><div class="line">$ git config [--global] diff.tool</div><div class="line">$ git config [--global] merge.tool</div><div class="line">$ git config [--global] help.format</div><div class="line"></div><div class="line"><span class="comment"># 设置彩色输出, 一般默认就是</span></div><div class="line">$ git config [--global] color.ui <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment"># 显示帮助信息</span></div><div class="line"><span class="comment"># -i: info 形式展示 -m: man 形式展示 -w: web(html)形式展示。windows 的 git bash 没有 man, 只能 web 形式展示</span></div><div class="line">$ git <span class="built_in">help</span></div><div class="line">$ git <span class="built_in">help</span> [<span class="built_in">command</span>]</div><div class="line">$ git [<span class="built_in">command</span>] --<span class="built_in">help</span></div></pre></td></tr></table></figure><h3 id="3-2-新建代码库-init-clone"><a href="#3-2-新建代码库-init-clone" class="headerlink" title="3.2 新建代码库 init clone"></a>3.2 新建代码库 init clone</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 将当前目录初始化为 Git 代码库</span></div><div class="line">$ git init</div><div class="line"></div><div class="line"><span class="comment"># 在当前目录新建一个目录, 并将其初始化为 Git 代码库</span></div><div class="line">$ git init [project-name]</div><div class="line"></div><div class="line"><span class="comment"># 创建远端仓库的克隆 [指定目录名]</span></div><div class="line">$ git <span class="built_in">clone</span> [url]</div><div class="line">$ git <span class="built_in">clone</span> [url] [dir-name]</div><div class="line"></div><div class="line"><span class="comment"># 指定远程主机名(默认 origin)</span></div><div class="line">$ git <span class="built_in">clone</span> -o [remote-name] [url]</div><div class="line"></div><div class="line"><span class="comment"># 创建本地仓库的克隆 [指定目录名]</span></div><div class="line">$ git <span class="built_in">clone</span> /path/to/repository</div><div class="line">$ git <span class="built_in">clone</span> /path/to/repository [dir-name]</div></pre></td></tr></table></figure><h3 id="3-3-增加-删除-移动文件-add-rm-mv"><a href="#3-3-增加-删除-移动文件-add-rm-mv" class="headerlink" title="3.3 增加 / 删除 / 移动文件 add rm mv"></a>3.3 增加 / 删除 / 移动文件 add rm mv</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 开始跟踪文件并放到暂存区 或 把已跟踪文件放到暂存区 或 合并时把有冲突的文件标记为已解决状态</span></div><div class="line">$ git add [file1] [file2] ...</div><div class="line"></div><div class="line"><span class="comment"># 添加指定目录到暂存区, 包括子目录</span></div><div class="line">$ git add [dir]</div><div class="line"></div><div class="line"><span class="comment"># 添加当前目录的所有文件到暂存区</span></div><div class="line">$ git add .</div><div class="line"></div><div class="line"><span class="comment"># 对每个变化都会要求确认是否 Stage, 对于同一个文件的多处变化, 可以实现部分提交、分次提交</span></div><div class="line">$ git add -p</div><div class="line"></div><div class="line"><span class="comment"># 停止追踪指定文件, 但该文件会保留在工作区</span></div><div class="line">$ git rm --cached [file]</div><div class="line"></div><div class="line"><span class="comment"># 删除工作区文件, 并且将这次删除放入暂存区</span></div><div class="line">$ git rm [file1] [file2] ...</div><div class="line"></div><div class="line"><span class="comment"># 改名文件, 并且将这个改名放入暂存区</span></div><div class="line">$ git mv [file-original] [file-renamed]</div></pre></td></tr></table></figure><h3 id="3-4-提交-commit"><a href="#3-4-提交-commit" class="headerlink" title="3.4 提交 commit"></a>3.4 提交 commit</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 提交暂存区到仓库区</span></div><div class="line">$ git commit -m [message]</div><div class="line"></div><div class="line"><span class="comment"># 提交暂存区的指定文件到仓库区</span></div><div class="line">$ git commit [file1] [file2] ... -m [message]</div><div class="line"></div><div class="line"><span class="comment"># 提交工作区自上次 commit 之后的变化, 直接到仓库区(省下 git add 操作)(但是只有已追踪文件的更改会提交, 未追踪文件还是要先 git add)</span></div><div class="line">$ git commit -a -m [message]</div><div class="line"></div><div class="line"><span class="comment"># 提交时显示所有 diff 信息</span></div><div class="line">$ git commit -v</div><div class="line"></div><div class="line"><span class="comment"># 用一次新的提交(新的 commit id), 重写最近一次提交(并包括所有新变化)。如果没有文件更改, 也可以用来改写上一次 commit 的提交信息</span></div><div class="line">$ git commit --amend -m [message]</div><div class="line"></div><div class="line"><span class="comment"># 重写上一次 commit, 并包括指定文件的新变化</span></div><div class="line">$ git commit --amend [file1] [file2] ... -m [message]</div></pre></td></tr></table></figure><h3 id="3-5-分支-branch-checkout-merge-rebase-cherry-pick"><a href="#3-5-分支-branch-checkout-merge-rebase-cherry-pick" class="headerlink" title="3.5 分支 branch checkout merge rebase cherry-pick"></a>3.5 分支 branch checkout merge rebase cherry-pick</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 列出所有本地分支</span></div><div class="line">$ git branch</div><div class="line"></div><div class="line"><span class="comment"># 列出所有远程分支, 远程分支: 除了 Git 不允许你检出 (切换到该分支) 之外, 远程分支跟本地分支没区别 --- 你可以将它们合并到当前分支(merge、rebase), 与其他分支作比较差异(diff), 查看那些分支的历史日志(log), 等等。PS: 在本地主机上要用 "远程主机名/分支名" 的形式访问。</span></div><div class="line">$ git branch -r</div><div class="line"></div><div class="line"><span class="comment"># 列出所有本地分支和远程分支</span></div><div class="line">$ git branch -a</div><div class="line">* master</div><div class="line">  dev-1</div><div class="line">  remotes/origin/master</div><div class="line">  remotes/origin/dev-1</div><div class="line"><span class="comment"># 表示, 本地主机的当前分支是 master, 远程分支有 origin/master origin/dev-1</span></div><div class="line"></div><div class="line"><span class="comment"># 新建一个分支(以当前分支为基础), 但依然停留在当前分支</span></div><div class="line">$ git branch [new-branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个分支(以当前分支为基础), 并切换到该分支</span></div><div class="line">$ git checkout -b [new-branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个分支(以指定的本地分支为基础)</span></div><div class="line">$ git branch [new-branch-name] [branch-name]</div><div class="line">$ git checkout -b [new-branch-name] [branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个分支(以指定的远程分支为基础, 会自动建立追溯关系)</span></div><div class="line">$ git branch [new-branch-name] [origin/master]</div><div class="line">$ git checkout -b [new-branch-name] [origin/master]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个分支, 以指定 commit 为基础</span></div><div class="line">$ git branch [new-branch-name] [commit]</div><div class="line">$ git checkout -b [new-branch-name] [commit]</div><div class="line"></div><div class="line"><span class="comment"># 将现有分支与指定的远程分支建立追踪关系</span></div><div class="line">$ git branch --<span class="built_in">set</span>-upstream [branch-name] [remote-branch]</div><div class="line"></div><div class="line"><span class="comment"># 创建一个空白分支: 1. 创建一个 orphan 的分支, 这个分支是独立的 2. 删除原来代码树下的所有文件</span></div><div class="line">$ git checkout --orphan [branch-name]</div><div class="line">$ git rm -rf .</div><div class="line"><span class="comment"># 注意这个时候你用 git branch 命令是看不见当前分支的名字的(无任何提交的分支都看不见), 除非你进行了第一次 commit</span></div><div class="line"></div><div class="line"><span class="comment"># 切换到指定分支, 并更新工作区(未提交的就没了! 解决方案见 git stash)</span></div><div class="line">$ git checkout [branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 切换到上一个分支</span></div><div class="line">$ git checkout -</div><div class="line"></div><div class="line"><span class="comment"># 删除本地分支</span></div><div class="line">$ git branch -d [branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 删除远程分支</span></div><div class="line">$ git push [remote-name] --delete [remote-branch-name]</div><div class="line">$ git push [remote-name] :[remote-branch-name]</div><div class="line">$ git branch -dr [remote-name/remote-branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 合并指定本地分支/远程分支 (要用 "远程主机名/分支名" 的形式访问) 到当前分支</span></div><div class="line">$ git merge [branch-name]</div><div class="line">$ git merge [remote-name/branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 左: 非快进式合并(会多一个节点)   右: 快进式合并</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># * 2d3acf9 ****               * 2d3acf9 ****</span></div><div class="line"><span class="comment"># *  5e3ee11 Merge branch **** |</span></div><div class="line"><span class="comment"># |\                           |</span></div><div class="line"><span class="comment"># | * 420eac9 ****             * 420eac9 ****</span></div><div class="line"><span class="comment"># | * 30e367c ****             * 30e367c ****</span></div><div class="line"><span class="comment"># | * 5a09431 ****             * 5a09431 ****</span></div><div class="line"><span class="comment"># | * e1193f8 ****             * e1193f8 ****</span></div><div class="line"><span class="comment"># |/                           |</span></div><div class="line"><span class="comment"># * d6016bc ****               * d6016bc ****</span></div><div class="line"><span class="comment"># * 11d191e ****               * 11d191e ****</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># 非快进式合并可以刻意地弄出提交线图分叉(如上图: 本可以合并为一条提交线), 更清晰地告诉你同伴: 这一系列的提交都是为了实现同一个目的(一般是从 feature 分支合并过来的)</span></div><div class="line"></div><div class="line"><span class="comment"># 默认情况下, Git 执行 "快进式合并"(fast-farward merge), 使用 --no-ff 选项进行非快进式合并</span></div><div class="line">$ git merge --no-ff [branch-name]</div><div class="line"></div><div class="line"><span class="comment"># </span></div><div class="line">$ git rebase</div><div class="line"></div><div class="line"><span class="comment"># 选择一个(别的分支中的) commit, 合并到当前分支</span></div><div class="line">$ git cherry-pick [commit]</div></pre></td></tr></table></figure><h3 id="3-6-远程-fetch-remote-pull-push"><a href="#3-6-远程-fetch-remote-pull-push" class="headerlink" title="3.6 远程 fetch remote pull push"></a>3.6 远程 fetch remote pull push</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 获取远程仓库的变动, 通常用来查看其他人的进程, 因为它取回的代码对你本地的开发代码没有影响, 取回的代码, 在本地主机上要用 "远程主机名/分支名" 的形式访问, 如 git reset --hard origin/master, git checkout -b dev-1 origin/master</span></div><div class="line"><span class="comment"># git fetch [remote-name] [remote-branch-name] + git merge [remote-name/remote-branch-name] = git pull [remote-name] [remote-branch-name]。所以一般不会直接使用 fetch</span></div><div class="line">$ git fetch [remote-name]</div><div class="line">$ git fetch [remote-name] [branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 显示所有远程仓库, 带远程主机网址</span></div><div class="line">$ git remote -v</div><div class="line"></div><div class="line"><span class="comment"># 显示某个远程仓库的信息</span></div><div class="line">$ git remote show [remote-name]</div><div class="line"></div><div class="line"><span class="comment"># 将你的仓库连接到某个远程仓库, 并命名(clone 下来的远程仓库默认名字是 origin)</span></div><div class="line">$ git remote add [remote-name] [url]</div><div class="line"></div><div class="line"><span class="comment"># 远程仓库的重命名</span></div><div class="line">$ git remote rename [remote-name-old] [remote-name-new]</div><div class="line"></div><div class="line"><span class="comment"># 远程仓库的移除</span></div><div class="line">$ git remote rm [remote-name]</div><div class="line"></div><div class="line"><span class="comment"># 取回远程主机某个分支的更新并与本地分支合并, git pull = git fetch + git merge, 完整格式如下</span></div><div class="line">$ git pull [remote-name] [remote-branch-name]:[<span class="built_in">local</span>-branch-name]</div><div class="line"><span class="comment"># 与当前分支合并, 则冒号后面的部分可以省略</span></div><div class="line">$ git pull [remote-name] [remote-branch-name]</div><div class="line"><span class="comment"># 如果当前分支与远程分支存在追踪关系, git pull 就可以省略远程分支名</span></div><div class="line">$ git pull [remote-name]</div><div class="line"><span class="comment"># 如果当前分支只有一个追踪分支, 连远程主机名都可以省略</span></div><div class="line">$ git pull</div><div class="line"><span class="comment"># 如果合并需要采用 rebase 模式, 可以使用 --rebase 选项 = git fetch + git rebase</span></div><div class="line">$ git pull --rebase [remote-name] [remote-branch-name]:[<span class="built_in">local</span>-branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 将本地分支的提交, 推送到远程主机, 完整格式如下, 注意与 pull 顺序不一样</span></div><div class="line">$ git push [remote-name] [<span class="built_in">local</span>-branch-name]:[remote-branch-name]</div><div class="line"><span class="comment"># 如果省略远程分支名, 则表示将本地分支推送与之存在 "追踪关系" 的远程分支(通常两者同名), 如果该远程分支不存在, 则会被新建</span></div><div class="line">$ git push [remote-name] [<span class="built_in">local</span>-branch-name]</div><div class="line"><span class="comment"># 如果省略本地分支名, 则表示删除指定的远程分支, 因为这等同于推送一个空的本地分支到远程分支。</span></div><div class="line">$ git push [remote-name] :[remote-branch-name]</div><div class="line"><span class="comment"># 等同于</span></div><div class="line">$ git push [remote-name] --delete [remote-branch-name]</div><div class="line"><span class="comment"># 如果当前分支与远程分支之间存在追踪关系, 则本地分支和远程分支都可以省略。</span></div><div class="line">$ git push [remote-name]</div><div class="line"><span class="comment"># 如果当前分支只有一个追踪分支, 那么主机名都可以省略。</span></div><div class="line">$ git push</div><div class="line"><span class="comment"># 如果当前分支与多个主机存在追踪关系, 则可以使用 -u 选项指定一个默认主机, 这样后面就可以不加任何参数使用 git push。</span></div><div class="line">$ git push -u [remote-name] [remote-branch-name]</div><div class="line"></div><div class="line"><span class="comment"># 强行推送当前分支到远程仓库, 即使有冲突(慎重!!)</span></div><div class="line">$ git push [remote-name] --force</div><div class="line"><span class="comment"># 用途: 撤销远程仓库的 commit 记录</span></div><div class="line">git reset --hard HEAD^</div><div class="line">git push -f</div><div class="line"></div><div class="line"><span class="comment"># 将本地的所有分支都推送到远程主机, 使用 --all 选项</span></div><div class="line">$ git push [remote-name] --all</div><div class="line"></div><div class="line"><span class="comment"># git push 不会推送标签(tag), 必须使用 --tags 选项单独推送标签</span></div><div class="line">$ git push [remote-name] --tags</div></pre></td></tr></table></figure><h3 id="3-7-查看信息-status-log-shortlog-diff-show-reflog-blame-bisect"><a href="#3-7-查看信息-status-log-shortlog-diff-show-reflog-blame-bisect" class="headerlink" title="3.7 查看信息 status log shortlog diff show reflog blame bisect"></a>3.7 查看信息 status log shortlog diff show reflog blame bisect</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 显示工作区和暂存区的状态</span></div><div class="line">$ git status</div><div class="line"></div><div class="line"><span class="comment"># 显示当前分支的版本历史</span></div><div class="line">$ git <span class="built_in">log</span></div><div class="line"></div><div class="line"><span class="comment"># 常用选项及其释义</span></div><div class="line"><span class="comment"># -&lt;n&gt;              显示最近 n 条提交</span></div><div class="line"><span class="comment"># --stat            显示每次更新的文件修改统计信息。</span></div><div class="line"><span class="comment"># --shortstat       只显示 --stat 中最后的行数修改添加移除统计。</span></div><div class="line"><span class="comment"># -p                按补丁格式显示每个更新之间的差异。</span></div><div class="line"><span class="comment"># --word-diff       按 word diff 格式显示差异。</span></div><div class="line"><span class="comment"># --name-only       仅在提交信息后显示已修改的文件清单。</span></div><div class="line"><span class="comment"># --name-status     显示新增、修改、删除的文件清单。</span></div><div class="line"><span class="comment"># --abbrev-commit   仅显示 SHA-1 的前几个字符, 而非所有的 40 个字符。</span></div><div class="line"><span class="comment"># --relative-date   使用较短的相对时间显示(比如, "2 weeks ago")。</span></div><div class="line"><span class="comment"># --pretty          使用其他格式显示历史提交信息。可用的选项包括 oneline, short, full, fuller 和 format(后跟指定格式)。</span></div><div class="line"><span class="comment"># --oneline         --pretty=oneline --abbrev-commit 的简化用法。</span></div><div class="line"><span class="comment"># --graph           显示 ASCII 图形表示的分支合并历史。</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># 还有一些用于筛选的选项, 见: https://git-scm.com/book/zh/v1/Git-基础-查看提交历史#限制输出长度</span></div><div class="line"><span class="comment"># --since, --after  仅显示指定时间之后的提交。</span></div><div class="line"><span class="comment"># --until, --before 仅显示指定时间之前的提交。</span></div><div class="line"><span class="comment"># --author          仅显示指定作者相关的提交。</span></div><div class="line"><span class="comment"># --committer       仅显示指定提交者相关的提交。</span></div><div class="line"></div><div class="line"><span class="comment"># gitk: git log 命令的可视化版本, 凡是 git log 可以用的选项也都能用在 gitk 上。在项目工作目录中输入 gitk 命令后, 即可启动</span></div><div class="line"></div><div class="line"><span class="comment"># 显示过去 5 次提交</span></div><div class="line">$ git <span class="built_in">log</span> -5</div><div class="line"></div><div class="line"><span class="comment"># 显示 commit 历史, 以及每次 commit 变更的简略统计信息</span></div><div class="line">$ git <span class="built_in">log</span> --<span class="built_in">stat</span></div><div class="line"></div><div class="line"><span class="comment"># 使用不同于默认格式的方式展示提交历史 oneline short full fuller</span></div><div class="line">$ git <span class="built_in">log</span> --oneline <span class="comment"># 只有 oneline 可以这样用</span></div><div class="line">$ git <span class="built_in">log</span> --pretty=oneline</div><div class="line">$ git <span class="built_in">log</span> --pretty=short</div><div class="line">$ git <span class="built_in">log</span> --pretty=full</div><div class="line">$ git <span class="built_in">log</span> --pretty=fuller</div><div class="line"><span class="comment"># 还可以用 format 来定制要显示的记录格式, 便于后期编程提取分析, 见: https://git-scm.com/book/zh/v2/Git-基础-查看提交历史#pretty_format</span></div><div class="line"><span class="comment"># 用 oneline 或 format 时结合 --graph 选项, 可以看到用 ASCII 字符串表示的简单图形, 形象地展示了每个提交所在的分支及其分化衍合情况。例如</span></div><div class="line">$ git <span class="built_in">log</span> --pretty=format:<span class="string">"%h %s"</span> --graph</div><div class="line">* 2d3acf9 ignore errors from SIGCHLD on <span class="built_in">trap</span></div><div class="line">*  5e3ee11 Merge branch <span class="string">'master'</span> of git://github.com/dustin/grit</div><div class="line">|\</div><div class="line">| * 420eac9 Added a method <span class="keyword">for</span> getting the current branch.</div><div class="line">* | 30e367c timeout code and tests</div><div class="line">* | 5a09431 add timeout protection to grit</div><div class="line">* | e1193f8 support <span class="keyword">for</span> heads with slashes <span class="keyword">in</span> them</div><div class="line">|/</div><div class="line">* d6016bc require time <span class="keyword">for</span> xmlschema</div><div class="line">*  11d191e Merge branch <span class="string">'defunkt'</span> into <span class="built_in">local</span></div><div class="line"></div><div class="line"><span class="comment"># 显示每次提交的 diff</span></div><div class="line">$ git <span class="built_in">log</span> -p</div><div class="line"></div><div class="line"><span class="comment"># 显示指定文件每一次变更的 diff</span></div><div class="line">$ git <span class="built_in">log</span> -p [file]</div><div class="line"></div><div class="line"><span class="comment"># 显示某个用户的所有提交</span></div><div class="line">$ git <span class="built_in">log</span> --author=<span class="string">"username"</span></div><div class="line"><span class="comment"># 显示指定提交者相关的提交</span></div><div class="line">$ git <span class="built_in">log</span> --committer=<span class="string">"committername"</span></div><div class="line"><span class="comment"># since, after, until, before 用法一样</span></div><div class="line">$ git <span class="built_in">log</span> --since=<span class="string">"2008-10-01"</span>                  <span class="comment"># 2008-10-01 之后的提交</span></div><div class="line">$ git <span class="built_in">log</span> --since=2.weeks                       <span class="comment"># 近两周的提交</span></div><div class="line">$ git <span class="built_in">log</span> --since=<span class="string">"2 years 1 day 3 minutes ago"</span> <span class="comment"># 2 年 1 天 3 分钟之前 至 今 的提交</span></div><div class="line"></div><div class="line"><span class="comment"># 搜索提交历史, 根据关键词</span></div><div class="line">$ git <span class="built_in">log</span> -S [keyword]</div><div class="line"></div><div class="line"><span class="comment"># 显示某个 commit 之前的变动</span></div><div class="line">$ git <span class="built_in">log</span> [commit]</div><div class="line">$ git <span class="built_in">log</span> [commit] --pretty=format:<span class="string">"%h %s"</span></div><div class="line"></div><div class="line"><span class="comment"># 显示某个文件的版本历史, 包括文件改名</span></div><div class="line">$ git <span class="built_in">log</span> --follow [file]</div><div class="line">$ git whatchanged [file]</div><div class="line"></div><div class="line"><span class="comment"># git shortlog 是一种特殊的 git log, 它是为创建发布声明设计的。它把每个提交按作者分类, 显示提交信息的第一行。这样可以容易地看到谁做了什么。默认情况下按作者名字排序, 但你可以传入 -n 选项来按每个作者提交数量排序。-s 选项不显示提交描述, 只显示提交数</span></div><div class="line">$ git shortlog -sn</div><div class="line"></div><div class="line"><span class="comment"># 显示暂存区和工作区 (已追踪文件) 的差异</span></div><div class="line">$ git diff</div><div class="line"></div><div class="line"><span class="comment"># 显示暂存区与当前分支最新 commit 之间的差异</span></div><div class="line">$ git diff --staged</div><div class="line">$ git diff --staged [file]</div><div class="line"></div><div class="line"><span class="comment"># 显示工作区与当前分支最新 commit 之间的差异</span></div><div class="line">$ git diff HEAD</div><div class="line"></div><div class="line"><span class="comment"># 显示两个分支 (的最新版本) 之间的差异</span></div><div class="line">$ git diff [first-branch] [second-branch]</div><div class="line"></div><div class="line"><span class="comment"># 显示两个 commit 之间的差异</span></div><div class="line">$ git diff [first-commit-id] [second-commit-id]</div><div class="line"></div><div class="line"><span class="comment"># "git diff A...B" is equivalent to "git diff $(git-merge-base A B) B". 展示从 A B 最近共同祖先到 B 的 diff</span></div><div class="line">$ git diff [first-commit-id]...[second-commit-id]</div><div class="line"></div><div class="line"><span class="comment"># 显示今天你写了多少行代码</span></div><div class="line">$ git diff --shortstat <span class="string">"@&#123;0 day ago&#125;"</span></div><div class="line"></div><div class="line"><span class="comment"># 显示某次提交的元数据和内容变化</span></div><div class="line">$ git show [commit]</div><div class="line"></div><div class="line"><span class="comment"># 显示某次提交发生变化的文件</span></div><div class="line">$ git show --name-only [commit]</div><div class="line"></div><div class="line"><span class="comment"># 显示某次提交时, 某个文件的内容</span></div><div class="line">$ git show [commit]:[filename]</div><div class="line"></div><div class="line"><span class="comment"># 如不小心用 git commit --amend 当成 git commit 覆盖当前的 commit, 或不小心把当前的 commit 给搞没了(reset --hard), 可以通过引用日志 reflog 命令来了解你对 HEAD 值的改变(或用 git log -g 以标准日志的格式输出引用日志), 然后通过 git reset 命令进行恢复</span></div><div class="line">$ git reflog</div><div class="line"></div><div class="line"><span class="comment"># blame 和 bisect 命令参见: https://git-scm.com/book/zh/v2/Git-工具-使用-Git-调试</span></div><div class="line"><span class="comment"># 显示 指定文件的各部分 最后一次修改的信息: 什么人在什么时间修改过</span></div><div class="line">$ git blame [file]</div></pre></td></tr></table></figure><h3 id="3-8-撤销-checkout-reset-revert-clean-stash"><a href="#3-8-撤销-checkout-reset-revert-clean-stash" class="headerlink" title="3.8 撤销 checkout reset revert clean stash"></a>3.8 撤销 checkout reset revert clean stash</h3><p><strong>常用 checkout 来撤销未暂存的修改, reset HEAD 来撤销没有提交的更改, revert 来撤销已经提交的更改。</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 1. git reset 将一个分支的 HEAD 指针指向另一个提交, 这可以用来移除当前分支的一些提交。下次 Git 执行垃圾回收 (很久很久一次) 的时候, 这两个提交会被删除(在此之前用 git reflog 找到丢掉的 commit id, 再用 git reset 可以还原回来)。换句话说, 如果你想扔掉这两个提交, 就用 git reset。除了在当前分支上操作, 你还可以通过传入这些标记来修改你的缓存区或工作目录</span></div><div class="line"><span class="comment"># --soft  缓存区和工作目录都不会被改变</span></div><div class="line"><span class="comment"># --mixed 默认选项。缓存区和你指定的提交同步, 但工作目录不受影响</span></div><div class="line"><span class="comment"># --hard  缓存区和工作目录都同步到你指定的提交</span></div><div class="line"></div><div class="line"><span class="comment"># 2. git checkout 与 git reset 类似, 但除了 `git checkout [file]` 和 `git checkout .` 外不推荐使用 checkout 来做撤销, checkout 用于分支切换比较好</span></div><div class="line"></div><div class="line"><span class="comment"># 注: git reset 和 git checkout 命令也接受文件路径作为参数。这时它的行为就大为不同了。它不会作用于整份提交, 参数将它限制于特定文件。--soft 和 --hard 对文件层面的 reset 毫无作用, 因为缓存区中的文件一定会变化, 而工作目录中的文件一定不变(即 --mixed)。</span></div><div class="line"></div><div class="line"><span class="comment"># 3. git revert 通过创建一个新的提交来抵消一个提交的更改。这是一个安全的方法, 因为它不会重写提交历史。因此, revert 可以用在公共分支上, reset 应该用在私有分支上。</span></div><div class="line"></div><div class="line"><span class="comment"># 恢复暂存区的指定文件到工作区(常用)</span></div><div class="line">$ git checkout [file]</div><div class="line"></div><div class="line"><span class="comment"># 恢复暂存区的所有文件到工作区(常用)</span></div><div class="line">$ git checkout .</div><div class="line"></div><div class="line"><span class="comment"># 恢复某个 commit 的所有文件到暂存区和工作区</span></div><div class="line">$ git checkout [commit]</div><div class="line"></div><div class="line"><span class="comment"># 恢复某个 commit 的指定文件到暂存区和工作区</span></div><div class="line">$ git checkout [commit] [file]</div><div class="line"></div><div class="line"><span class="comment"># 重置暂存区的指定文件, 与上一次 commit 保持一致, 但工作区不变</span></div><div class="line">$ git reset [file]</div><div class="line"></div><div class="line"><span class="comment"># 重置当前分支的 HEAD 指针为指定 commit, 同时重置暂存区, 但工作区不变</span></div><div class="line">$ git reset [commit]</div><div class="line"></div><div class="line"><span class="comment"># 重置暂存区与工作区, 与上一次 commit 保持一致(常用)</span></div><div class="line">$ git reset --hard</div><div class="line"></div><div class="line"><span class="comment"># 重置当前分支的 HEAD 指针为指定 commit, 同时重置暂存区和工作区与指定 commit 一致(常用)</span></div><div class="line">$ git reset --hard [commit]</div><div class="line"></div><div class="line"><span class="comment"># 重置当前 HEAD 为指定 commit, 但保持暂存区和工作区不变(常用)</span></div><div class="line">$ git reset --keep [commit]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个 commit, 用来撤销指定 commit, 后者的所有变化都将被前者抵消, 并且应用到当前分支(常用)</span></div><div class="line">$ git revert [commit]</div><div class="line"></div><div class="line"><span class="comment"># git clean 命令用来从你的工作目录中删除所有没有 tracked 过的文件。git clean 经常和 git reset --hard 一起结合使用, 因为 reset 只影响被 track 过的文件, 所以需要 clean 来删除没有 track 过的文件, 结合使用这两个命令能让你的工作目录完全回到一个指定的 [commit] 的状态。git clean 对于刚编译过的项目也非常有用。如, 他能轻易删除掉编译后生成的.o 和.exe 等文件。这个在打包要发布一个 release 的时候非常有用。</span></div><div class="line"><span class="comment"># -n 选项是一次 clean 的演习, 告诉你哪些文件会被删除。记住他不会真正的删除文件, 只是一个提醒</span></div><div class="line">$ git clean -n</div><div class="line"><span class="comment"># 删除当前目录下所有没有 track 过的文件。他不会删除 .gitignore 文件里面指定的文件夹和文件, 不管这些文件有没有被 track 过</span></div><div class="line">git clean -f</div><div class="line"><span class="comment"># 删除指定路径下的没有被 track 过的文件</span></div><div class="line">git clean -f &lt;path&gt;</div><div class="line"><span class="comment"># 删除当前目录下没有被 track 过的文件和文件夹</span></div><div class="line">git clean -df</div><div class="line"></div><div class="line"><span class="comment"># 当你的工作区不 clean, 而你想转到其他分支上进行一些工作, 却不想提交进行了一半的工作, 可以用 git stash 命令, 它命令可以把当前工作现场 "储藏" 起来, 等以后恢复现场后继续工作。使用 git stash 命令后再用 git status 查看工作区, 就是 clean 的, 可以方便地切换到其他分支工作, 而你的变更都保存在栈上。甚至可以在其中一个分支上保留一份储藏, 切换到另外一个分支, 再重新应用这些变更(有点像 rebase)。</span></div><div class="line">$ git stash</div><div class="line"><span class="comment"># 可以加上信息</span></div><div class="line">$ git stash save <span class="string">"message..."</span></div><div class="line"><span class="comment"># 查看现有的储藏</span></div><div class="line">$ git stash list</div><div class="line"><span class="comment"># 重新应用你刚刚实施的储藏</span></div><div class="line">$ git stash apply</div><div class="line"><span class="comment"># 应用更早的储藏, 你可以通过名字指定它, 如果你不指明, Git 默认使用最近的储藏并尝试应用它</span></div><div class="line">$ git stash apply stash@&#123;0&#125;</div><div class="line"><span class="comment"># apply 选项只尝试应用储藏的工作 --- 储藏的内容仍然在栈上。要移除它, 你可以运行 git stash drop, 加上你希望移除的储藏的名字</span></div><div class="line">$ git stash drop stash@&#123;0&#125;</div><div class="line"><span class="comment"># 可以运行 git stash pop 来重新应用储藏, 同时立刻将其从堆栈中移走</span></div><div class="line">$ git stash pop</div><div class="line"><span class="comment"># 清空储藏栈</span></div><div class="line">$ git stash clear</div></pre></td></tr></table></figure><h3 id="3-9-标签-tag"><a href="#3-9-标签-tag" class="headerlink" title="3.9 标签 tag"></a>3.9 标签 tag</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 列出所有 tag</span></div><div class="line">$ git tag</div><div class="line"></div><div class="line"><span class="comment"># 新建一个 tag 在当前 commit</span></div><div class="line">$ git tag [tag]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个 tag 在指定 commit</span></div><div class="line">$ git tag [tag] [commit]</div><div class="line"></div><div class="line"><span class="comment"># 删除本地 tag</span></div><div class="line">$ git tag -d [tag]</div><div class="line"></div><div class="line"><span class="comment"># 删除远程 tag</span></div><div class="line">$ git push origin :refs/tags/[tagName]</div><div class="line"></div><div class="line"><span class="comment"># 查看 tag 信息</span></div><div class="line">$ git show [tag]</div><div class="line"></div><div class="line"><span class="comment"># 提交指定 tag</span></div><div class="line">$ git push [remote-name] [tag]</div><div class="line"></div><div class="line"><span class="comment"># 提交(包含 tag)</span></div><div class="line">$ git push [remote-name] --tags</div><div class="line"></div><div class="line"><span class="comment"># 新建一个分支, 指向某个 tag</span></div><div class="line">$ git checkout -b [branch-name] [tag]</div></pre></td></tr></table></figure><h3 id="3-10-其他"><a href="#3-10-其他" class="headerlink" title="3.10 其他"></a>3.10 其他</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 生成一个可供发布的压缩包</span></div><div class="line">$ git archive</div></pre></td></tr></table></figure><h2 id="4-高级技巧"><a href="#4-高级技巧" class="headerlink" title="4 高级技巧"></a>4 高级技巧</h2><h3 id="4-1-修改作者时间-提交时间"><a href="#4-1-修改作者时间-提交时间" class="headerlink" title="4.1 修改作者时间 / 提交时间"></a>4.1 修改作者时间 / 提交时间</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 设置作者时间, PS: 很奇怪的一个问题, 月日必须反过来, date -d "Jun 8 14:00 2017" 都不行, 提交后在 Git 上是 Aug 6</span></div><div class="line">$ git commit --date=<span class="string">"`date -d "</span>2017-08-06 16:21:45<span class="string">"`"</span> -m [message]</div><div class="line"></div><div class="line"><span class="comment"># 设置提交时间及作者时间(时间问题同上) --- !!!</span></div><div class="line">GIT_COMMITTER_DATE=<span class="string">"`date -d "</span>2017-08-06 16:21:45<span class="string">"`"</span> git commit --date=<span class="string">"`date -d "</span>2017-08-06 16:21:45<span class="string">"`"</span> -m [message]</div><div class="line"></div><div class="line"><span class="comment"># 事后修改时间(时间问题同上) -- 记得把被重写的 commit 彻底删掉 --- !!!</span></div><div class="line">GIT_COMMITTER_DATE=<span class="string">"`date -d "</span>2017-08-06 16:21:45<span class="string">"`"</span> git commit --amend --date=<span class="string">"`date -d "</span>2017-08-06 16:21:45<span class="string">"`"</span> -m [message]</div><div class="line">git reflog</div><div class="line">git reflog delete HEAD@&#123;1&#125; <span class="comment"># HEAD@&#123;1&#125;是那个想要删除的 ref</span></div></pre></td></tr></table></figure><h3 id="4-2-数据清理与数据维护"><a href="#4-2-数据清理与数据维护" class="headerlink" title="4.2 数据清理与数据维护"></a>4.2 数据清理与数据维护</h3><p><a href="https://git-scm.com/book/zh/v1/Git-内部原理-维护及数据恢复" target="_blank" rel="external">https://git-scm.com/book/zh/v1/Git-内部原理-维护及数据恢复</a></p><h3 id="4-3-GitHub-技巧"><a href="#4-3-GitHub-技巧" class="headerlink" title="4.3 GitHub 技巧"></a>4.3 GitHub 技巧</h3><p>在 GitHub 网页任意界面, 按 Shift + / 显示当前可用快捷键。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://git-scm.com/docs" target="_blank" rel="external">Git 官方英文文档</a></li><li><a href="https://git-scm.com/book/zh/v2" target="_blank" rel="external">Pro Git 简体中文版</a></li><li><a href="https://www.git-tower.com/learn/git/ebook/cn/command-line/introduction" target="_blank" rel="external">Tower 的中文 git 教程</a></li><li><a href="http://blog.jobbole.com/87410" target="_blank" rel="external">Git 版本控制与工作流</a></li><li><a href="http://blog.jobbole.com/81196" target="_blank" rel="external">一个成功的 Git 分支模型</a></li><li><a href="http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html" target="_blank" rel="external">常用 Git 命令清单</a></li><li><a href="https://github.com/geeeeeeeeek/git-recipes/wiki" target="_blank" rel="external">高质量的 Git 中文教程</a></li></ul></div><div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div><button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'><span>赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="../images/wechat-reward.png" alt="Lyogvce WeChat Pay"><p>微信打赏</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="../images/alipay-reward.jpg" alt="Lyogvce Alipay"><p>支付宝打赏</p></div></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> Lyogvce</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://blog.lyogvce.me/2017-06/Git_Flow_and_Git_Command.html" title="Git Flow & Git 命令">http://blog.lyogvce.me/2017-06/Git_Flow_and_Git_Command.html</a></li><li class="post-copyright-license"><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Git/" rel="tag"># Git</a> <a href="/tags/Git-flow/" rel="tag"># Git flow</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017-04/TimSort.html" rel="next" title="TimSort"><i class="fa fa-chevron-left"></i> TimSort</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></article><div class="post-spread"><div class="bdsharebuttonbox"><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a><a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a><a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a><a href="#" class="bds_more" data-cmd="more"></a><a class="bds_count" data-cmd="count"></a></div><script>window._bd_share_config={common:{bdText:"",bdMini:"2",bdMiniList:!1,bdPic:""},share:{bdSize:"16",bdStyle:"0"},image:{viewList:["tsina","douban","sqq","qzone","weixin","twi","fbook"],viewText:"分享到：",viewSize:"16"}}</script><script>with(document)(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="//bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)</script></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8yOTM1NC81OTIy"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Lyogvce"><p class="site-author-name" itemprop="name">Lyogvce</p><p class="site-description motion-element" itemprop="description">应届狗求 Offer</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">20</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">16</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">21</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/Will-Grindelwald" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-globe"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://www.lyogvce.me/" title="我的主页" target="_blank">我的主页</a></li></ul></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-基本概念"><span class="nav-text">1. 基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-Git-V-S-SVN"><span class="nav-text">1.1 Git V.S. SVN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-功能-amp-特性"><span class="nav-text">1.2 功能 & 特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-Git-基本技巧"><span class="nav-text">1.3 Git 基本技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Git-命令别名"><span class="nav-text">(1) Git 命令别名</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Git-Flow"><span class="nav-text">2. Git Flow</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Basic-Workflow-基本工作流"><span class="nav-text">2.1 Basic Workflow (基本工作流)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Centralized-Workflow-集中式工作流"><span class="nav-text">2.2 Centralized Workflow (集中式工作流)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-如何工作"><span class="nav-text">(1) 如何工作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-管理冲突"><span class="nav-text">(2) 管理冲突</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-Feature-Branch-Workflow-功能分支工作流"><span class="nav-text">2.3 Feature Branch Workflow (功能分支工作流)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-如何工作-1"><span class="nav-text">(1) 如何工作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Pull-Request"><span class="nav-text">(2) Pull Request</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-Gitflow-Workflow-Gitflow-工作流"><span class="nav-text">2.4 Gitflow Workflow (Gitflow 工作流)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Historical-Branches"><span class="nav-text">(1) Historical Branches</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Feature-Branches"><span class="nav-text">(2) Feature Branches</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Release-Branches"><span class="nav-text">(3) Release Branches</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Maintenance-Branches"><span class="nav-text">(4) Maintenance Branches</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-标记-Tags"><span class="nav-text">(5) 标记 Tags</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-Forking-Workflow-Forking-工作流"><span class="nav-text">2.5 Forking Workflow (Forking 工作流)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-如何工作-2"><span class="nav-text">(1) 如何工作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-终极开发流程-分支策略和发布管理-模型"><span class="nav-text">2.6 终极开发流程 (分支策略和发布管理) 模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Git-命令清单"><span class="nav-text">3. Git 命令清单</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-配置与帮助-config-help"><span class="nav-text">3.1 配置与帮助 config help</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-新建代码库-init-clone"><span class="nav-text">3.2 新建代码库 init clone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-增加-删除-移动文件-add-rm-mv"><span class="nav-text">3.3 增加 / 删除 / 移动文件 add rm mv</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-提交-commit"><span class="nav-text">3.4 提交 commit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-分支-branch-checkout-merge-rebase-cherry-pick"><span class="nav-text">3.5 分支 branch checkout merge rebase cherry-pick</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-远程-fetch-remote-pull-push"><span class="nav-text">3.6 远程 fetch remote pull push</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-查看信息-status-log-shortlog-diff-show-reflog-blame-bisect"><span class="nav-text">3.7 查看信息 status log shortlog diff show reflog blame bisect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8-撤销-checkout-reset-revert-clean-stash"><span class="nav-text">3.8 撤销 checkout reset revert clean stash</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-9-标签-tag"><span class="nav-text">3.9 标签 tag</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-10-其他"><span class="nav-text">3.10 其他</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-高级技巧"><span class="nav-text">4 高级技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-修改作者时间-提交时间"><span class="nav-text">4.1 修改作者时间 / 提交时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-数据清理与数据维护"><span class="nav-text">4.2 数据清理与数据维护</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-GitHub-技巧"><span class="nav-text">4.3 GitHub 技巧</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考"><span class="nav-text">参考</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 - <span itemprop="copyrightYear">2017</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Lyogvce</span></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><span id="visit" title="本站访客数"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span></span><span class="site-pv"><span id="visit" title="本站总访问量"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script src="/js/src/utils.js?v=5.1.1"></script><script src="/js/src/motion.js?v=5.1.1"></script><script src="/js/src/scrollspy.js?v=5.1.1"></script><script src="/js/src/post-details.js?v=5.1.1"></script><script src="/js/src/bootstrap.js?v=5.1.1"></script><script>!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><script>function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){var r=!1,s=0,a=0,i=n.title.trim(),c=i.toLowerCase(),l=n.content.trim().replace(/<[^>]+>/g,""),h=l.toLowerCase(),p=decodeURIComponent(n.url),u=[],f=[];if(""!=i&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}u=u.concat(e(t,c,!1)),f=f.concat(e(t,h,!1))}),(u.length>0||f.length>0)&&(r=!0,s=u.length+f.length)),r){[u,f].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});function d(e,o,n,r){for(var s=r[r.length-1],i=s.position,c=s.word,l=[],h=0;i+c.length<=n&&0!=r.length;){c===t&&h++,l.push({position:i,length:c.length});var p=i+c.length;for(r.pop();0!=r.length&&(s=r[r.length-1],i=s.position,c=s.word,p>i);)r.pop()}return a+=h,{hits:l,start:o,end:n,searchTextCount:h}}var g=[];0!=u.length&&g.push(d(0,0,i.length,u));for(var v=[];0!=f.length;){var $=f[f.length-1],C=$.position,m=$.word,x=C-20,w=C+80;x<0&&(x=0),w<C+m.length&&(w=C+m.length),w>l.length&&(w=l.length),v.push(d(0,x,w,f))}v.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var y=parseInt("-1");y>=0&&(v=v.slice(0,y));function T(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var b="";0!=g.length?b+="<li><a href='"+p+"' class='search-result-title'>"+T(i,g[0])+"</a>":b+="<li><a href='"+p+"' class='search-result-title'>"+i+"</a>",v.forEach(function(t){b+="<a href='"+p+'\'><p class="search-result">'+T(l,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:a,hitCount:s,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),!1===isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&onPopupClose()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script>AV.initialize("C1Wj889AvDDOBNOisIhWiTUT-gzGzoHsz","bPVDK5wvDlz91eBKeiaKByiO")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){if(0!==e.length){for(c=0;c<e.length;c++){var t=e[c],i=t.get("url"),s=t.get("time"),l=document.getElementById(i);$(l).find(".leancloud-visitors-count").text(s)}for(var c=0;c<n.length;c++){var i=n[c],l=document.getElementById(i),r=$(l).find(".leancloud-visitors-count");""==r.text()&&r.text(0)}}else o.find(".leancloud-visitors-count").text(0)}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){$(document.getElementById(n)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var s=new e,l=new AV.ACL;l.setPublicReadAccess(!0),l.setPublicWriteAccess(!0),s.setACL(l),s.set("title",o),s.set("url",n),s.set("time",1),s.save(null,{success:function(e){$(document.getElementById(n)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script></body></html>